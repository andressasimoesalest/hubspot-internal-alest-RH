<!--
    templateType: page
    isAvailableForNewContent: true
-->
<!doctype html>

<html lang="pt-br" data-bs-theme="dark">
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta charset="utf-8">
    {% if content.html_title %}<title>{{ content.html_title }}</title>{% endif %}
    <meta name="description" content="{{ content.meta_description }}">
    {% if brand_settings.primaryFavicon.src %}
      <link rel="shortcut icon" href="{{ brand_settings.primaryFavicon.src }}" />
    {% endif %}
    {{ standard_header_includes }}
  </head>
  <body>
    {% dnd_area "dnd_area"
      label="Main section"
    %}

    {% end_dnd_area %}
    {{ standard_footer_includes }}<!doctype html>
    <div class="container">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

      <main>
        <div class="row g-5">
          <div class="col-s-1 row justify-content-center m-5">
            <center><h3>Deal</h3></center>
            <form class="w-50" id="formulario">
              <div>
                <div class="col mb-3">
                  <label for="dealName" class="form-label">Deal Name</label>
                  <input type="text" class="form-control" id="dealName" name="dealName" placeholder="Deal name">
                </div>
                <div class="col mb-3">
                  <label for="licencas" class="form-label">Quantidade de Licenças</label>
                  <input type="number" class="form-control" id="licencas" name="licencas" placeholder="Quantidade de licenças">
                </div>
                <div class="col mb-3">
                  <label for="tipoLicenca" class="form-label">Tipo de Licença</label>
                  <select class="form-select" id="tipoLicenca" name="tipoLicenca" aria-label="Tipo de Licença">
                    <option selected>Tipo de licença</option>
                    <option value="Starter">Starter</option>
                    <option value="Standard">Standard</option>
                    <option value="Plus">Plus</option>
                    <option value="Enterprise">Enterprise</option>
                  </select>
                </div>
              </div>
              <div class="mb-3">
                <label for="classificacao" class="form-label">Classificação</label>
                <input type="text" id="classificacao" name="classificacao" class="form-control" placeholder="Classificação" readonly>
        
              </div>
              <div class="mb-3">
                <label for="pontosTotais" class="form-label">Pontos Totais</label>
                <input type="text" id="pontosTotais" name="pontosTotais" class="form-control" placeholder="Pontos totais" readonly>
              </div>
              <div class="mb-3">
                <button class="btn btn-warning" type="submit">Calcular</button>
                <button class="btn btn-primary" type="button" onclick="limparFormulario()">Limpar</button>
              </div>
            </form>
          </div>

          <div class="col">
            <h3>Próxima Classificação</h3>
            <div class="mb-3">
              <label for="totalLicencas" class="form-label">Total de licenças</label>
              <input type="number" class="form-control" id="totalLicencas" placeholder="Total de licenças" readonly>
            </div>
            <div class="mb-3">
              <label for="faltamLicencas" class="form-label">Quantidade que falta</label>
              <input type="number" class="form-control" id="faltamLicencas" placeholder="Quantidade que falta" readonly>
            </div>
            <label for="tipoLicencaMaisProxima" class="form-label">Tipo de licença</label>
            <input class="form-control" list="datalistOptions" id="tipoLicencaMaisProxima" placeholder="Tipo de licença" readonly>
            <datalist id="datalistOptions">
              <option value="Starter">
              <option value="Standard">
              <option value="Plus">
              <option value="Enterprise">
            </datalist>
            <div class="mb-3">
              <label for="classificacaoMaisProxima" class="form-label">Classificação</label>
              <input type="text" id="classificacaoMaisProxima" class="form-control" placeholder="Classificação" readonly>
            </div>
            <div class="mb-3">
              <label for="pontosTotaisMaisProxima" class="form-label">Pontos totais</label>
              <input type="text" id="pontosTotaisMaisProxima" class="form-control" placeholder="Pontos totais" readonly>
            </div>
          </div>

          <div class="col">
            <h3>Mescla com outras Licensas</h3>
            <div class="mb-3">
              <label for="sugestaoTotalLicencas" class="form-label">Total de licenças</label>
              <input type="number" class="form-control" id="sugestaoTotalLicencas" placeholder="Total de licenças" readonly>
            </div>
            <div class="mb-3">
              <label for="sugestaoFaltamLicencas" class="form-label">Quantidade que falta</label>
              <input type="number" class="form-control" id="sugestaoFaltamLicencas" placeholder="Quantidade que falta" readonly>
            </div>
            <label for="sugestaoTipoLicenca" class="form-label">Tipo de licença</label>
            <input class="form-control" list="datalistOptions" id="sugestaoTipoLicenca" placeholder="Tipo de licença" readonly>
            <datalist id="datalistOptions">
              <option value="Starter">
              <option value="Standard">
              <option value="Plus">
              <option value="Enterprise">
            </datalist>
            <div class="mb-3">
              <label for="sugestaoClassificacao" class="form-label">Classificação</label>
              <input type="text" id="sugestaoClassificacao" class="form-control" placeholder="Classificação"readonly>
            </div>
            <div class="mb-3">
              <label for="sugestaoPontosTotais" class="form-label">Pontos totais</label>
              <input type="text" id="sugestaoPontosTotais" class="form-control" placeholder="Pontos totais" readonly>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <h3>Insira seus dados</h3>
          <div class="col mb-3">
            <label for="informacoesDeal" class="form-label">Informações do deal</label>
            <input type="text" class="form-control" id="informacoesDeal" placeholder="Informações do deal">
          </div>
          <div class="col mb-3">
            <label for="responsavel" class="form-label">Responsável</label>
            <input type="text" class="form-control" id="responsavel" placeholder="Responsável">
          </div>
          <div class="col mb-3">
            <label for="prioridade" class="form-label">Prioridade</label>
            <input type="text" class="form-control" id="prioridade" placeholder="Prioridade">
          </div>
          <div class="col mb-3">
            <label for="empresa" class="form-label">Empresa</label>
            <input type="text" class="form-control" id="empresa" placeholder="Empresa">
          </div>
        </div>

        <script>
          document.getElementById('formulario').addEventListener('submit', function(event) {
            event.preventDefault(); // Previne o envio do formulário

            // Obtendo os valores dos campos do formulário
            const dealName = document.getElementById('dealName').value;
            const licencas = document.getElementById('licencas').value;
            const tipoLicenca = document.getElementById('tipoLicenca').value;
            const classificacao = document.getElementById('classificacao').value;
            const pontosTotais = document.getElementById('pontosTotais').value;



            // Exemplo de cálculo (ajuste conforme necessário)
            let totalLicencas = parseInt(licencas);
            let licencasNecessarias = 0;
            let proximoNivel = '';
            
            if (tipoLicenca == "Starter"){
                if (totalLicencas <= 40){
                    licencasNecessarias = 41 - totalLicencas;
                    proximoNivel = 'Prata';
                    document.getElementById('classificacao').value = "Bronze";
                    document.getElementById('pontosTotais').value = licencas*10;
                }
                else if (totalLicencas <= 60){
                    licencasNecessarias = 61 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Prata";
                    document.getElementById('pontosTotais').value = licencas*10;
                }
                else{
                    licencasNecessarias = 0 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Ouro";
                    document.getElementById('pontosTotais').value = licencas*10;
                }
            }

            else if (tipoLicenca == "Standard"){
                if (totalLicencas <= 35){
                    licencasNecessarias = 36 - totalLicencas;
                    proximoNivel = 'Prata';
                    document.getElementById('classificacao').value = "Bronze";
                    document.getElementById('pontosTotais').value = licencas*15;
                }
                else if (totalLicencas <= 55){
                    licencasNecessarias = 56 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Prata";
                    document.getElementById('pontosTotais').value = licencas*15;
                }
                else{
                    licencasNecessarias = 0 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Ouro";
                    document.getElementById('pontosTotais').value = licencas*15;
                }
            }

            else if (tipoLicenca == "Plus"){
                if (totalLicencas <= 30){
                    licencasNecessarias = 31 - totalLicencas;
                    proximoNivel = 'Prata';
                    document.getElementById('classificacao').value = "Bronze";
                    document.getElementById('pontosTotais').value = licencas*20;
                }
                else if (totalLicencas <= 50){
                    licencasNecessarias = 51 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Prata";
                    document.getElementById('pontosTotais').value = licencas*20;
                }
                else{
                    licencasNecessarias = 0 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Ouro";
                    document.getElementById('pontosTotais').value = licencas*20;
                }
            }

            else if (tipoLicenca == "Starter"){
                if (totalLicencas <= 25){
                    licencasNecessarias = 26 - totalLicencas;
                    proximoNivel = 'Prata';
                    document.getElementById('classificacao').value = "Bronze";
                    document.getElementById('pontosTotais').value = licencas*25;
                }
                else if (totalLicencas <= 45){
                    licencasNecessarias = 56 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Prata";
                    document.getElementById('pontosTotais').value = licencas*80;
                }
                else{
                    licencasNecessarias = 0 - totalLicencas;
                    proximoNivel = 'Ouro';
                    document.getElementById('classificacao').value = "Ouro";
                    document.getElementById('pontosTotais').value = licencas*80;
                }
            }


            // Atualizando os campos com os resultados do cálculo
            document.getElementById('totalLicencas').value = totalLicencas + licencasNecessarias;
            document.getElementById('faltamLicencas').value = licencasNecessarias;
            document.getElementById('tipoLicencaMaisProxima').value = tipoLicenca;
            document.getElementById('classificacaoMaisProxima').value = proximoNivel;
            document.getElementById('pontosTotaisMaisProxima').value = (totalLicencas + licencasNecessarias) * 15;

            document.getElementById('sugestaoTotalLicencas').value = totalLicencas;
            document.getElementById('sugestaoFaltamLicencas').value = licencasNecessarias;
            document.getElementById('sugestaoTipoLicenca').value = tipoLicenca;
            document.getElementById('sugestaoClassificacao').value = proximoNivel;
            document.getElementById('sugestaoPontosTotais').value = pontosTotais;

            // Fazendo algo com os valores, como enviar para um servidor ou manipular localmente
            console.log('Deal Name:', dealName);
            console.log('Quantidade de Licenças:', licencas);
            console.log('Tipo de Licença:', tipoLicenca);
            console.log('Classificação:', classificacao);
            console.log('Pontos Totais:', pontosTotais);
            console.log('Licenças Necessárias:', licencasNecessarias);
            console.log('Próximo Nível:', proximoNivel);
          });

          function limparFormulario() {
          // Reseta o formulário principal
          document.getElementById('formulario').reset();

          // Limpa os campos de cálculo
          document.getElementById('totalLicencas').value = '';
          document.getElementById('faltamLicencas').value = '';
          document.getElementById('tipoLicencaMaisProxima').value = '';
          document.getElementById('classificacaoMaisProxima').value = '';
          document.getElementById('pontosTotaisMaisProxima').value = '';

          document.getElementById('sugestaoTotalLicencas').value = '';
          document.getElementById('sugestaoFaltamLicencas').value = '';
          document.getElementById('sugestaoTipoLicenca').value = '';
          document.getElementById('sugestaoClassificacao').value = '';
          document.getElementById('sugestaoPontosTotais').value = '';
        }
        </script>
      </main>
      <footer></footer>
    </div>
  </body>
</html>

